<link rel="stylesheet" href="/static/vendor/bootstrap/css/bootstrap.min.css"/>
<link href="/static/dashboard.css" rel="stylesheet">
<link href="/static/style.css" rel="stylesheet">
<!--DataTables-->
<link rel="stylesheet" type="text/css" href="/static/DataTables/DataTables-1.10.21/css/jquery.dataTables.min.css"/>
<link rel="stylesheet" type="text/css" href="/static/DataTables/Buttons-1.6.3/css/buttons.dataTables.min.css"/>
<link rel="stylesheet" type="text/css" href="/static/DataTables/SearchPanes-1.1.1/css/searchPanes.dataTables.min.css"/>

<a href="{{ url_for('tanks') }}"><span style="color: royalblue;">Back</span></a>
<div class="text-center">
    <h4>Tank {{ tank.name }} Variance Report</h4>
        <form style="display: inline-block;" action="{{ url_for('tank_variances',tank_id=tank.id) }}"  method="post">
        <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group mr-2">
            <input type = "date"  name="start_date" autocomplete="off"autofocus class="form-control" required>
            <input type = "date"  name="end_date" autocomplete="off"autofocus class="form-control" required>
            <button type="submit" class="btn btn-sm btn-outline-secondary">Enter</button>
        </div>
        </div>
        </form>
    </div>
<div class="p-5 text-center">
    <table class="display" id="export">
        <thead>
            <th>Shift</th>
            <th>Date</th>
            <th>Opening Dip</th>
            <th>Closing Dip</th>
            <th>Deliveries</th>
            <th>Tank Sales</th>
            <th>Pump Sales</th>
            <th>Variance</th>
            <th>Shrinkage %</th>
            <th style="color: rgb(172, 33, 33);">Cumulative Shrinkage</th>
            <th style="color: rgb(138, 34, 34);">Cumulative Shrinkage %</th>
        </thead>
        <tbody>
            {% for shift in tank_dips %}
            <tr>
                <td>{{ shift }}</td>
                <td>{{ tank_dips[shift][0] }}</td>
                <td>{{ tank_dips[shift][1] }}</td>
                <td>{{ tank_dips[shift][2] }}</td>
                <td>{{ tank_dips[shift][3] }}</td>
                <td>{{ tank_dips[shift][4] }}</td>
                <td>{{ tank_dips[shift][5] }}</td>
                <td>{{ tank_dips[shift][6] }}</td>
                <td>{{ tank_dips[shift][7] }}</td>
                <td style="color: lightcoral;">{{ tank_dips[shift][8] }}</td>
                <td style="color: lightcoral;">{{ tank_dips[shift][9] }}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
    <script src="/static/vendor/jquery/jquery-3.4.1.min.js" type="text/javascript"></script>
    <script src="/static/scripts.js" type="text/javascript" ></script>
    <!--DataTables-->
    <script type="text/javascript" src="/static/DataTables/JSZip-2.5.0/jszip.min.js"></script>
    <script type="text/javascript" src="/static/DataTables/DataTables-1.10.21/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/static/DataTables/Buttons-1.6.3/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="/static/DataTables/Buttons-1.6.3/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="/static/DataTables/SearchPanes-1.1.1/js/dataTables.searchPanes.min.js"></script>
    <script>
        $(document).ready(function() {
        $('#export').DataTable( {
            dom: 'Bfrtip',
            buttons: [
                'copyHtml5',
                'excelHtml5',
                'csvHtml5',
                'pdfHtml5'
            ]
        } );
    } );
    </script>