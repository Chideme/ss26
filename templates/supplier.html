<link rel="stylesheet" href="/static/vendor/bootstrap/css/bootstrap.min.css"/>
<link href="/static/dashboard.css" rel="stylesheet">
<link href="/static/style.css" rel="stylesheet">
 <!--DataTables-->
 <link rel="stylesheet" type="text/css" href="/static/DataTables/DataTables-1.10.21/css/jquery.dataTables.min.css"/>
 <link rel="stylesheet" type="text/css" href="/static/DataTables/Buttons-1.6.3/css/buttons.dataTables.min.css"/>
 <link rel="stylesheet" type="text/css" href="/static/DataTables/SearchPanes-1.1.1/css/searchPanes.dataTables.min.css"/>
 
<a href="{{ url_for('suppliers') }}"><span style="color: royalblue;">Back</span></a>


<h4 class="h4 text-center p3">{{ supplier }} Statement</h4>
<div class="text-center">
<h5>Balance: {{ net | round(2) }}</h5>

    <form style="display: inline-block;" action="{{ url_for('supplier',supplier_id= supplier.id) }}"  method="post">
    <div class="btn-toolbar mb-2 mb-md-0">
    <div class="btn-group mr-2">
        <input type = "date"  name="start_date" autocomplete="off"autofocus class="form-control" required>
        <input type = "date"  name="end_date" autocomplete="off"autofocus class="form-control" required>
        <button type="submit" class="btn btn-sm btn-outline-secondary">Enter</button>
    </div>
    </div>
    </form>
    <h6>Period: {{ start }}  TO   {{ end }}</h6>
</div>
<div class="p-5 text-center">
    <table class="display" id="export">
        <thead>
            <th>Date</th>
            <th>Details</th>
            <th>Dr</th>
            <th>Cr</th>
            <th>Balance</th>
         

        </thead>
        <tbody>
            <tr>
                <td>{{ start }}</td>
                <td>Opening Balance</td>
                <td></td>
                <td></td>
                <td>{{ report['balance'] | round(2) }}</td>
            </tr>
            {% for i in report %}
            <tr>
                <td>{{ report[i]["date"]  }}</td>
                <td>{{ report[i]["details"] }}</td>
                <td>{{ report[i]['dr']  }}</td>
                <td>{{ report[i]['cr'] }}</td>
                <td></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script src="/static/vendor/jquery/jquery-3.4.1.min.js" type="text/javascript"></script>
<script src="/static/scripts.js" type="text/javascript" ></script>
<!--DataTables-->
<script type="text/javascript" src="/static/DataTables/JSZip-2.5.0/jszip.min.js"></script>
<script type="text/javascript" src="/static/DataTables/DataTables-1.10.21/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="/static/DataTables/Buttons-1.6.3/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="/static/DataTables/Buttons-1.6.3/js/buttons.html5.min.js"></script>
<script type="text/javascript" src="/static/DataTables/SearchPanes-1.1.1/js/dataTables.searchPanes.min.js"></script>
<script>
    $(document).ready(function() {
        
    $('#export').DataTable( {
        retrieve : true,
        dom: 'Bfrtip',
        buttons: [
            'copyHtml5',
            'excelHtml5',
            'csvHtml5',
            'pdfHtml5'
        ],
        "columnDefs": [
            {
                // The `data` parameter refers to the data for the cell (defined by the
                // `data` option, which defaults to the column being worked with, in
                // this case `data: 0`.
                
                "render": function ( data, type, row ) {
                    
                    answ = row[2] + row[2] - row[3]
                    return  row[2] + row[2] - row[3];
                },
                "targets": 4
            }
            
            
        ]

        
    } );
} );
</script>
<script>
     $(document).ready(function() {
        var prevRow = $( row ).prev()[0];
     });
</script>
